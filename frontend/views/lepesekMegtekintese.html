<!-- LÉPÉSEK MEGTEKINTÉSE -->
<div class="container-fluid">
  <div class="row justify-content-center">
    <div class="col-12 col-xl-10">
      <!-- Header -->
      <div class="card shadow-lg border-0 rounded-4 mt-4 mb-4">
        <div class="card-header text-white text-center py-4 rounded-top-4">
          <div class="d-flex align-items-center justify-content-center mb-3">
            <h1 class="card-title mb-0 fw-bold">Lépések Megtekintése</h1>
          </div>
          <p class="mb-0 opacity-75">
            Elemezd lépéseidet és kövesd figyelemmel az egészséges életmód
            fejlődését!
          </p>
        </div>
      </div>

      <div class="card border-0 shadow-sm rounded-4 mb-4">
        <div class="card-body p-4">
          <div class="d-flex justify-content-center mb-4">
            <div class="btn-group" role="group" aria-label="View toggle">
              <button
                type="button"
                class="btn btn-outline-primary active"
                id="tableViewBtn"
                onclick="showTableView()"
              >
                <i class="bi bi-table me-2"></i>Táblázat
              </button>
              <button
                type="button"
                class="btn btn-outline-primary"
                id="chartViewBtn"
                onclick="showChartView()"
              >
                <i class="bi bi-bar-chart me-2"></i>Diagram
              </button>
            </div>
          </div>

          <div class="row g-3 mb-4">
            <div class="col-md-4">
              <label for="startDate" class="form-label fw-semibold">
                <i class="bi bi-calendar-event me-2"></i>Kezdő dátum
              </label>
              <input
                type="date"
                class="form-control border-2 rounded-3"
                id="startDate"
              />
            </div>
            <div class="col-md-4">
              <label for="endDate" class="form-label fw-semibold">
                <i class="bi bi-calendar-event-fill me-2"></i>Vég dátum
              </label>
              <input
                type="date"
                class="form-control border-2 rounded-3"
                id="endDate"
              />
            </div>
            <div class="col-md-4 d-flex align-items-end">
              <button
                type="button"
                class="btn btn-primary w-100 rounded-3"
                onclick="filterData()"
              >
                <i class="bi bi-funnel me-2"></i>Szűrés
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Table Nézet -->
      <div id="tableView" class="card border-0 shadow-sm rounded-4 mb-4">
        <div class="card-header bg-dark border-0 rounded-top-4 py-3">
          <div class="d-flex justify-content-between align-items-center">
            <h5 class="mb-0 fw-semibold">
              <i class="bi bi-table me-2"></i>Lépések Táblázata
            </h5>
            <div class="btn-group btn-group-sm" role="group">
              <button
                type="button"
                class="btn btn-outline-secondary"
                onclick="exportData('csv')"
              >
                <i class="bi bi-download me-1"></i>CSV
              </button>
              <button
                type="button"
                class="btn btn-outline-secondary"
                onclick="exportData('pdf')"
              >
                <i class="bi bi-file-pdf me-1"></i>PDF
              </button>
            </div>
          </div>
        </div>
        <div class="card-body p-0">
          <div class="table-responsive">
            <table class="table table-hover mb-0">
              <thead class="table-light">
                <tr>
                  <th class="border-0">
                    <i class="bi bi-calendar3 me-2"></i>Dátum
                  </th>
                  <th class="border-0">
                    <i class="bi bi-shoe-prints me-2"></i>Lépések
                  </th>
                  <th class="border-0">
                    <i class="bi bi-speedometer2 me-2"></i>Átlag
                  </th>
                </tr>
              </thead>
              <tbody id="stepsTableBody">
                <tr>
                  <td>2024-01-15</td>
                  <td><span class="badge bg-primary fs-6">8,500</span></td>
                  <td>8,200</td>
                </tr>
                <tr>
                  <td>2024-01-14</td>
                  <td><span class="badge bg-primary fs-6">12,300</span></td>
                  <td>8,100</td>
                </tr>
                <tr>
                  <td>2024-01-13</td>
                  <td><span class="badge bg-primary fs-6">6,800</span></td>
                  <td>7,900</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Chart Nézet -->
      <div
        id="chartView"
        class="card border-0 shadow-sm rounded-4 mb-4"
        style="display: none"
      >
        <div class="card-header bg-dark border-0 rounded-top-4 py-3">
          <div class="d-flex justify-content-between align-items-center">
            <h5 class="mb-0 fw-semibold">
              <i class="bi bi-bar-chart me-2"></i>Lépések Diagramja
            </h5>
          </div>
        </div>
        <div class="card-body p-4">
          <canvas id="myChart" style="width: 100%; max-width: 100%"></canvas>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Chart.js CDN -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>

<style>
  .card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  .btn {
    transition: all 0.3s ease;
  }

  .form-control:focus {
    border-color: #696969;
    box-shadow: 0 0 0 0.2rem rgba(105, 105, 105, 0.25);
  }

  .table-hover tbody tr:hover {
    background-color: rgba(105, 105, 105, 0.05);
  }

  .progress {
    background-color: rgba(105, 105, 105, 0.1);
  }

  .badge {
    font-size: 0.875em;
  }

  #stepsChart {
    max-height: 400px;
  }
</style>
